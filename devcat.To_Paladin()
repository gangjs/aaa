//////////////////////////////////////////////////////////////////////////////////
server void To_Paladin(
	character me,
	character player)
// : 다크나이트에서 팔라딘 전향
//////////////////////////////////////////////////////////////////////////////////
{
	///////////////////////////////////////////////
	// 팔라딘 스킬을 삭제하고 다크나이트 스킬을 준다. (팔라딘 스킬 레벨을 상속받는다)
	///////////////////////////////////////////////
	int skillLevel;
	int skillExp;


	///////////////////////////////////////////////
	skillLevel = me.GetSkillLevel(41001); // 스피리트 오브 오더
	skillExp = me.GetSkillExpPoint(41001);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40001, skillLevel); // 소울 오브 카오스
	me.ModifySkillExpPoint(40001, skillExp);
	me.ForgetSkill(41001); // 스피리트 오브 오더 삭제

	///////////////////////////////////////////////
	// 컨트롤 오브 다크니스는 다크나이트에게만 있는 스킬이다.
	me.ForgetSkill(41002); // 컨트롤 오브 다크니스


	
	// 패시브 3종
	///////////////////////////////////////////////
	skillLevel = me.GetSkillLevel(41011); // 파워 오브 오더
	skillExp = me.GetSkillExpPoint(41011);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40002, skillLevel); // 바디 오브 카오스
	me.ModifySkillExpPoint(40002, skillExp);
	me.ForgetSkill(41011); // 파워 오브 오더 삭제

	///////////////////////////////////////////////
	skillLevel = me.GetSkillLevel(41013); // 아이 오브 오더
	skillExp = me.GetSkillExpPoint(41013);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40003, skillLevel); // 핸즈 오브 카오스
	me.ModifySkillExpPoint(40003, skillExp);
	me.ForgetSkill(41013); // 아이 오브 오더 삭제

	///////////////////////////////////////////////
	skillLevel = me.GetSkillLevel(41012); // 소드 오브 오더
	skillExp = me.GetSkillExpPoint(41012);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40004, skillLevel); // 브레인 오브 카오스
	me.ModifySkillExpPoint(40004, skillExp);
	me.ForgetSkill(41012); // 소드 오브 오더 삭제


	// 디펜스
	///////////////////////////////////////////////
	skillLevel=0;
	skillLevel = me.GetSkillLevel(41021); // 팔라딘 내츄럴 실드
	skillExp = me.GetSkillExpPoint(41021);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40011, skillLevel); // 다크 내츄럴 실드
	me.ModifySkillExpPoint(40011, skillExp);
	me.ForgetSkill(41021); // 팔라딘 내츄럴 실드 삭제

	///////////////////////////////////////////////
	skillLevel=0;
	skillLevel = me.GetSkillLevel(41022); // 팔라딘 헤비 스탠더
	skillExp = me.GetSkillExpPoint(41022);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40012, skillLevel); // 다크 헤비 스탠더
	me.ModifySkillExpPoint(40012, skillExp);
	me.ForgetSkill(41022); // 팔라딘 헤비 스탠더 삭제

	///////////////////////////////////////////////
	skillLevel=0;
	skillLevel = me.GetSkillLevel(41023); // 팔라딘 마나 리프랙터
	skillExp = me.GetSkillExpPoint(41023);
	if (skillLevel < 1)
	{
		skillLevel = 1;
	}
	me.AddSkill(40013, skillLevel); // 다크 마나 리프랙터
	me.ModifySkillExpPoint(40013, skillExp);
	me.ForgetSkill(41023); // 팔라딘 마나 리프랙터 삭제
	
	player.EndTalk(me,["npc.variable.devcat.235"]);
	return;
}
